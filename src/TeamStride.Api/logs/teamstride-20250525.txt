2025-05-25 18:19:15.290 -04:00 [INF] Starting TeamStride API
2025-05-25 18:19:15.362 -04:00 [INF] Now listening on: http://localhost:5295
2025-05-25 18:19:15.365 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 18:19:15.365 -04:00 [INF] Hosting environment: Development
2025-05-25 18:19:15.366 -04:00 [INF] Content root path: C:\AppDev\Scott\team-running\src\TeamStride.Api
2025-05-25 18:20:57.546 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/ - null null
2025-05-25 18:20:57.580 -04:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 18:20:57.587 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 42.2842ms
2025-05-25 18:20:57.595 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404
2025-05-25 18:21:02.658 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/health - null null
2025-05-25 18:21:02.662 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/health - 404 0 null 4.8978ms
2025-05-25 18:21:02.665 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/health, Response status code: 404
2025-05-25 21:08:38.352 -04:00 [INF] Starting TeamStride API
2025-05-25 21:08:38.415 -04:00 [INF] Now listening on: http://localhost:5295
2025-05-25 21:08:38.418 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 21:08:38.419 -04:00 [INF] Hosting environment: Development
2025-05-25 21:08:38.419 -04:00 [INF] Content root path: C:\AppDev\Scott\team-running\src\TeamStride.Api
2025-05-25 21:09:13.397 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/ - null null
2025-05-25 21:09:13.442 -04:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 21:09:13.446 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 49.7992ms
2025-05-25 21:09:13.456 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404
2025-05-25 21:09:19.558 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/health - null null
2025-05-25 21:09:19.562 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/health - 404 0 null 4.2942ms
2025-05-25 21:09:19.568 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/health, Response status code: 404
2025-05-25 21:09:38.189 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger - null null
2025-05-25 21:09:38.193 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger - 301 0 null 4.1383ms
2025-05-25 21:09:38.196 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null
2025-05-25 21:09:38.265 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 69.4538ms
2025-05-25 21:09:38.302 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui.css - null null
2025-05-25 21:09:38.302 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-bundle.js - null null
2025-05-25 21:09:38.303 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-standalone-preset.js - null null
2025-05-25 21:09:38.321 -04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-25 21:09:38.321 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-25 21:09:38.323 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 20.5989ms
2025-05-25 21:09:38.324 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui.css - 200 152034 text/css 22.3302ms
2025-05-25 21:09:38.356 -04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-25 21:09:38.358 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 55.5637ms
2025-05-25 21:09:38.498 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-05-25 21:09:38.498 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/favicon-32x32.png - null null
2025-05-25 21:09:38.504 -04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-25 21:09:38.506 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/favicon-32x32.png - 200 628 image/png 7.6288ms
2025-05-25 21:09:38.560 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.4356ms
2025-05-25 21:09:46.794 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/health - null null
2025-05-25 21:09:46.797 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/health - 404 0 null 3.0389ms
2025-05-25 21:09:46.800 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/health, Response status code: 404
2025-05-25 21:10:03.497 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/health - null null
2025-05-25 21:10:03.502 -04:00 [INF] Executing endpoint 'TeamStride.Api.Controllers.HealthController.Get (TeamStride.Api)'
2025-05-25 21:10:03.520 -04:00 [INF] Route matched with {action = "Get", controller = "Health"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller TeamStride.Api.Controllers.HealthController (TeamStride.Api).
2025-05-25 21:10:03.527 -04:00 [INF] Health check endpoint called
2025-05-25 21:10:03.535 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 21:10:03.570 -04:00 [INF] Executed action TeamStride.Api.Controllers.HealthController.Get (TeamStride.Api) in 44.1199ms
2025-05-25 21:10:03.573 -04:00 [INF] Executed endpoint 'TeamStride.Api.Controllers.HealthController.Get (TeamStride.Api)'
2025-05-25 21:10:03.574 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/health - 200 null application/json; charset=utf-8 77.4441ms
2025-05-25 21:10:03.715 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/favicon.ico - null null
2025-05-25 21:10:03.718 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/favicon.ico - 404 0 null 2.9222ms
2025-05-25 21:10:03.722 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/favicon.ico, Response status code: 404
2025-05-25 21:28:52.686 -04:00 [INF] Executed DbCommand (153ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TeamStride];
2025-05-25 21:28:52.749 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TeamStride] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-05-25 21:28:52.760 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 21:28:52.793 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-05-25 21:28:52.795 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 21:28:52.804 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 21:28:52.807 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 21:28:52.817 -04:00 [INF] Applying migration '20250526012700_InitialCreate'.
2025-05-25 21:28:52.838 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tenants] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Subdomain] nvarchar(450) NOT NULL,
    [LogoUrl] nvarchar(max) NULL,
    [PrimaryColor] nvarchar(max) NOT NULL,
    [SecondaryColor] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [Tier] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ExpiresAt] datetime2 NULL,
    [LastModifiedAt] datetime2 NOT NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    CONSTRAINT [PK_Tenants] PRIMARY KEY ([Id])
);
2025-05-25 21:28:52.840 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LastLoginAt] datetime2 NULL,
    [Status] int NOT NULL,
    [LastModifiedAt] datetime2 NOT NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 21:28:52.843 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TenantUsers] (
    [Id] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    [TenantId] uniqueidentifier NOT NULL,
    [Role] int NOT NULL,
    [IsDefault] bit NOT NULL,
    [JoinedAt] datetime2 NOT NULL,
    [LastModifiedAt] datetime2 NOT NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    CONSTRAINT [PK_TenantUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_TenantUsers_Tenants_TenantId] FOREIGN KEY ([TenantId]) REFERENCES [Tenants] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_TenantUsers_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-05-25 21:28:52.844 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Tenants_Subdomain] ON [Tenants] ([Subdomain]);
2025-05-25 21:28:52.846 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TenantUsers_TenantId] ON [TenantUsers] ([TenantId]);
2025-05-25 21:28:52.847 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TenantUsers_UserId] ON [TenantUsers] ([UserId]);
2025-05-25 21:28:52.849 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-05-25 21:28:52.851 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250526012700_InitialCreate', N'8.0.2');
2025-05-25 21:30:05.952 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 21:30:06.001 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TeamStride] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-05-25 21:30:06.055 -04:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [TeamStride];
2025-05-25 21:30:09.501 -04:00 [INF] Executed DbCommand (298ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [TeamStride];
2025-05-25 21:30:09.617 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TeamStride] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-05-25 21:30:09.635 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 21:30:09.679 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-05-25 21:30:09.682 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-25 21:30:09.692 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-25 21:30:09.702 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-25 21:30:09.712 -04:00 [INF] Applying migration '20250526012700_InitialCreate'.
2025-05-25 21:30:09.741 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tenants] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Subdomain] nvarchar(450) NOT NULL,
    [LogoUrl] nvarchar(max) NULL,
    [PrimaryColor] nvarchar(max) NOT NULL,
    [SecondaryColor] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [Tier] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [ExpiresAt] datetime2 NULL,
    [LastModifiedAt] datetime2 NOT NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    CONSTRAINT [PK_Tenants] PRIMARY KEY ([Id])
);
2025-05-25 21:30:09.746 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LastLoginAt] datetime2 NULL,
    [Status] int NOT NULL,
    [LastModifiedAt] datetime2 NOT NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-25 21:30:09.755 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TenantUsers] (
    [Id] uniqueidentifier NOT NULL,
    [UserId] uniqueidentifier NOT NULL,
    [TenantId] uniqueidentifier NOT NULL,
    [Role] int NOT NULL,
    [IsDefault] bit NOT NULL,
    [JoinedAt] datetime2 NOT NULL,
    [LastModifiedAt] datetime2 NOT NULL,
    [LastModifiedBy] nvarchar(max) NULL,
    CONSTRAINT [PK_TenantUsers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_TenantUsers_Tenants_TenantId] FOREIGN KEY ([TenantId]) REFERENCES [Tenants] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_TenantUsers_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-05-25 21:30:09.760 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Tenants_Subdomain] ON [Tenants] ([Subdomain]);
2025-05-25 21:30:09.763 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TenantUsers_TenantId] ON [TenantUsers] ([TenantId]);
2025-05-25 21:30:09.766 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TenantUsers_UserId] ON [TenantUsers] ([UserId]);
2025-05-25 21:30:09.768 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-05-25 21:30:09.777 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250526012700_InitialCreate', N'8.0.2');
